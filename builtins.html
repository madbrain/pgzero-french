
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Objets pré-définis &#8212; Pygame Zero 1.2 documentation</title>
    <link rel="stylesheet" href="_static/alabaster.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Text Formatting" href="ptext.html" />
    <link rel="prev" title="Les hooks d’évènements" href="hooks.html" />
   
  <link rel="stylesheet" href="_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <div class="section" id="objets-pre-definis">
<h1>Objets pré-définis<a class="headerlink" href="#objets-pre-definis" title="Permalink to this headline">¶</a></h1>
<p>Pygame Zero fournit des objets pré-définis utiles pour t’aider
à construire des jeux facilement.</p>
<div class="section" id="screen">
<span id="id1"></span><h2>Screen<a class="headerlink" href="#screen" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
</div>
<p>L’objet <code class="docutils literal notranslate"><span class="pre">screen</span></code> représente l’écran de ton jeu.</p>
<p>C’est une fine couche autour d’une surface Pygame qui te permet
facilement de dessiner des images à l’écran.</p>
<dl class="class">
<dt id="Screen">
<em class="property">class </em><code class="descname">Screen</code><a class="headerlink" href="#Screen" title="Permalink to this definition">¶</a></dt>
<dd><dl class="attribute">
<dt id="Screen.surface">
<code class="descname">surface</code><a class="headerlink" href="#Screen.surface" title="Permalink to this definition">¶</a></dt>
<dd><p>La <a class="reference external" href="https://www.pygame.org/docs/ref/surface.html">surface Pygame</a> brute qui représente l’espace mémoire de l’écran. Tu peux
l’utiliser pour les opérations graphiques avancées.</p>
</dd></dl>

<dl class="method">
<dt id="Screen.clear">
<code class="descname">clear</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Screen.clear" title="Permalink to this definition">¶</a></dt>
<dd><p>Réinitialise l’écran en noir.</p>
</dd></dl>

<dl class="method">
<dt id="Screen.fill">
<code class="descname">fill</code><span class="sig-paren">(</span><em>(rouge</em>, <em>vert</em>, <em>bleu)</em><span class="sig-paren">)</span><a class="headerlink" href="#Screen.fill" title="Permalink to this definition">¶</a></dt>
<dd><p>Rempli l’écran d’une couleur pleine.</p>
</dd></dl>

<dl class="method">
<dt id="Screen.blit">
<code class="descname">blit</code><span class="sig-paren">(</span><em>image</em>, <em>(gauche</em>, <em>haut)</em><span class="sig-paren">)</span><a class="headerlink" href="#Screen.blit" title="Permalink to this definition">¶</a></dt>
<dd><p>Dessine l’image sur l’écran à la position donnée.</p>
<p><code class="docutils literal notranslate"><span class="pre">blit()</span></code> accepte soit une surface ou une chaîne comme paramètre <code class="docutils literal notranslate"><span class="pre">image</span></code>.
Si <code class="docutils literal notranslate"><span class="pre">image</span></code> est une chaîne alors l’image au nom correspondant sera chargée
depuis le répertoire <code class="docutils literal notranslate"><span class="pre">images/</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="Screen.draw.line">
<code class="descclassname">draw.</code><code class="descname">line</code><span class="sig-paren">(</span><em>début</em>, <em>fin</em>, <em>(r</em>, <em>v</em>, <em>b)</em><span class="sig-paren">)</span><a class="headerlink" href="#Screen.draw.line" title="Permalink to this definition">¶</a></dt>
<dd><p>Dessine une ligne de <code class="docutils literal notranslate"><span class="pre">début</span></code> à <code class="docutils literal notranslate"><span class="pre">fin</span></code>.</p>
</dd></dl>

<dl class="method">
<dt id="Screen.draw.circle">
<code class="descclassname">draw.</code><code class="descname">circle</code><span class="sig-paren">(</span><em>pos</em>, <em>rayon</em>, <em>(r</em>, <em>v</em>, <em>b)</em><span class="sig-paren">)</span><a class="headerlink" href="#Screen.draw.circle" title="Permalink to this definition">¶</a></dt>
<dd><p>Dessine un cercle.</p>
</dd></dl>

<dl class="method">
<dt id="Screen.draw.filled_circle">
<code class="descclassname">draw.</code><code class="descname">filled_circle</code><span class="sig-paren">(</span><em>pos</em>, <em>rayon</em>, <em>(r</em>, <em>v</em>, <em>b)</em><span class="sig-paren">)</span><a class="headerlink" href="#Screen.draw.filled_circle" title="Permalink to this definition">¶</a></dt>
<dd><p>Dessine un disque.</p>
</dd></dl>

<dl class="method">
<dt id="Screen.draw.rect">
<code class="descclassname">draw.</code><code class="descname">rect</code><span class="sig-paren">(</span><em>rect</em>, <em>(r</em>, <em>v</em>, <em>b)</em><span class="sig-paren">)</span><a class="headerlink" href="#Screen.draw.rect" title="Permalink to this definition">¶</a></dt>
<dd><p>Dessine le contour un rectangle.</p>
<p>Prend un <a class="reference internal" href="#rect"><span class="std std-ref">Rect</span></a> en paramètre.</p>
</dd></dl>

<dl class="method">
<dt id="Screen.draw.filled_rect">
<code class="descclassname">draw.</code><code class="descname">filled_rect</code><span class="sig-paren">(</span><em>rect</em>, <em>(r</em>, <em>v</em>, <em>b)</em><span class="sig-paren">)</span><a class="headerlink" href="#Screen.draw.filled_rect" title="Permalink to this definition">¶</a></dt>
<dd><p>Dessine un rectangle plein.</p>
</dd></dl>

<dl class="method">
<dt id="Screen.draw.text">
<code class="descclassname">draw.</code><code class="descname">text</code><span class="sig-paren">(</span><em>texte</em>, <span class="optional">[</span><em>pos</em>, <span class="optional">]</span><em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Screen.draw.text" title="Permalink to this definition">¶</a></dt>
<dd><p>Dessine du texte.</p>
<p>Il existe une API extrêmement riche pour positionner et formater du texte, regarder
<a class="reference internal" href="ptext.html"><span class="doc">Text Formatting</span></a> pour plus de détails.</p>
</dd></dl>

<dl class="method">
<dt id="Screen.draw.textbox">
<code class="descclassname">draw.</code><code class="descname">textbox</code><span class="sig-paren">(</span><em>texte</em>, <em>rect</em>, <em>**kwargs</em><span class="sig-paren">)</span><a class="headerlink" href="#Screen.draw.textbox" title="Permalink to this definition">¶</a></dt>
<dd><p>Dessine du texte dimensionné pour remplir le <a class="reference internal" href="#rect"><span class="std std-ref">Rect</span></a> donné.</p>
<p>Il existe une API extrêmement riche pour positionner et formater du texte, regarder
<a class="reference internal" href="ptext.html"><span class="doc">Text Formatting</span></a> pour plus de détails.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="rect">
<span id="id2"></span><h2>Rect<a class="headerlink" href="#rect" title="Permalink to this headline">¶</a></h2>
<p>La classe <a class="reference external" href="https://www.pygame.org/docs/ref/rect.html">Pygame Rect</a> est disponible en tant que classe prédéfinie.
Elle peut être utilisée de nombreuses façons, de la détection de clics
dans une région au dessin d’une boîte sur l’écran:</p>
<p>Par exemple, tu peux dessiner une boîte avec:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ROUGE</span> <span class="o">=</span> <span class="mi">200</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span>
<span class="n">BOITE</span> <span class="o">=</span> <span class="n">Rect</span><span class="p">((</span><span class="mi">20</span><span class="p">,</span> <span class="mi">20</span><span class="p">),</span> <span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">draw</span><span class="o">.</span><span class="n">rect</span><span class="p">(</span><span class="n">BOITE</span><span class="p">,</span> <span class="n">ROUGE</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="section" id="chargement-de-resources">
<h2>Chargement de resources<a class="headerlink" href="#chargement-de-resources" title="Permalink to this headline">¶</a></h2>
<p>Les objets <code class="docutils literal notranslate"><span class="pre">images</span></code> et <code class="docutils literal notranslate"><span class="pre">sounds</span></code> peuvent être utilisés pour charger des
images et des clips audio depuis des fichiers stockés dans les répertoires
<code class="docutils literal notranslate"><span class="pre">images</span></code> et <code class="docutils literal notranslate"><span class="pre">sounds</span></code> respectivement. Pygame Zero va se charger de lire
ces resources à la demande et va les mémoriser afin d’éviter de les relire.</p>
<p>Tu doit généralement t’assurer que tes images sont nommées avec des lettres
minuscule, des chiffres et le caractère souligné <code class="docutils literal notranslate"><span class="pre">_</span></code> seulement.
Ils doivent aussi commencer par une lettre.</p>
<p>Les noms de fichiers suivants vont fonctionner correctement lors du
chargement de resources:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alien</span><span class="o">.</span><span class="n">png</span>
<span class="n">alien_hurt</span><span class="o">.</span><span class="n">png</span>
<span class="n">alien_run_7</span><span class="o">.</span><span class="n">png</span>
</pre></div>
</div>
<p>Ceux-ci ne fonctionneront pas:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mf">3.</span><span class="n">png</span>
<span class="mi">3</span><span class="n">degrees</span><span class="o">.</span><span class="n">png</span>
<span class="n">my</span><span class="o">-</span><span class="n">cat</span><span class="o">.</span><span class="n">png</span>
<span class="n">sam</span><span class="s1">&#39;s dog.png</span>
</pre></div>
</div>
<div class="section" id="images">
<h3>Images<a class="headerlink" href="#images" title="Permalink to this headline">¶</a></h3>
<p>Pygame Zero peut charger des images aux formats <code class="docutils literal notranslate"><span class="pre">.png</span></code>, <code class="docutils literal notranslate"><span class="pre">.gif</span></code> et <code class="docutils literal notranslate"><span class="pre">.jpg</span></code>.
le format PNG est recommandé : il autorise des images de haute qualité et
gère la transparence.</p>
<p>Nous devons nous assurer que le répertoire <code class="docutils literal notranslate"><span class="pre">images</span></code> existe. Si ton projet
contient les fichiers suivants:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">space_game</span><span class="o">.</span><span class="n">py</span>
<span class="n">images</span><span class="o">/</span><span class="n">alien</span><span class="o">.</span><span class="n">png</span>
</pre></div>
</div>
<p>Alors <code class="docutils literal notranslate"><span class="pre">space_game.py</span></code> peux dessiner l’image ‘alien’ à l’écran avec
ce code:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">blit</span><span class="p">(</span><span class="s1">&#39;alien&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">))</span>
</pre></div>
</div>
<p>Le nom passé à <code class="docutils literal notranslate"><span class="pre">blit()</span></code> est le nom du fichier image dans le répertoire
images, sans l’extension de fichier.</p>
<p>Ou en utilisant l’API <a class="reference internal" href="#actor"><span class="std std-ref">Acteurs</span></a>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">&#39;alien&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<p>Dans les deux cas, il y a quelques restrictions sur les noms de fichiers:
ils ne peuvent seulement contenir des lettres latines minuscules,
des chiffres et le caractère souligné <code class="docutils literal notranslate"><span class="pre">_</span></code>. Ceci afin d’éviter des problèmes
de compatibilité quand ton jeu est exécuté sur différents systèmes
d’exploitation qui ont différentes sensibilités à la casse.</p>
</div>
<div class="section" id="surfaces-d-images">
<h3>Surfaces d’images<a class="headerlink" href="#surfaces-d-images" title="Permalink to this headline">¶</a></h3>
<p>Tu peux également charger des images depuis le répertoire <code class="docutils literal notranslate"><span class="pre">images</span></code>
en utilisant l’objet <code class="docutils literal notranslate"><span class="pre">images</span></code>. Ceci t’autorise à travailler avec les
données de l’image elle-même, obtenir ces dimensions, etc.:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">forest</span> <span class="o">=</span> <span class="p">[]</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
    <span class="n">forest</span><span class="o">.</span><span class="n">append</span><span class="p">(</span>
        <span class="n">Actor</span><span class="p">(</span><span class="s1">&#39;tree&#39;</span><span class="p">,</span> <span class="n">topleft</span><span class="o">=</span><span class="p">(</span><span class="n">images</span><span class="o">.</span><span class="n">tree</span><span class="o">.</span><span class="n">width</span> <span class="o">*</span> <span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">))</span>
    <span class="p">)</span>
</pre></div>
</div>
<p>Chaque image chargée est une <code class="docutils literal notranslate"><span class="pre">Surface</span></code> Pygame. Tu va généralement
utiliser <code class="docutils literal notranslate"><span class="pre">screen.blit(...)</span></code> pour les dessiner à l’écran. Elle fournit
également des méthodes pratiques pour obtenir la taille de l’image en pixels:</p>
<dl class="class">
<dt id="Surface">
<em class="property">class </em><code class="descname">Surface</code><a class="headerlink" href="#Surface" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="Surface.get_width">
<code class="descname">get_width</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Surface.get_width" title="Permalink to this definition">¶</a></dt>
<dd><p>Retourne la largeur de l’image en pixels.</p>
</dd></dl>

<dl class="method">
<dt id="Surface.get_height">
<code class="descname">get_height</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Surface.get_height" title="Permalink to this definition">¶</a></dt>
<dd><p>Retourne la hauteur de l’image en pixels.</p>
</dd></dl>

<dl class="method">
<dt id="Surface.get_size">
<code class="descname">get_size</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Surface.get_size" title="Permalink to this definition">¶</a></dt>
<dd><p>Retourne un tuple (largeur, hauteur) indiquant la taille en pixels de la surface.</p>
</dd></dl>

<dl class="method">
<dt id="Surface.get_rect">
<code class="descname">get_rect</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Surface.get_rect" title="Permalink to this definition">¶</a></dt>
<dd><p>Retourne un objet <code class="xref py py-class docutils literal notranslate"><span class="pre">Rect</span></code> qui est prérempli avec les limites de l’images
comme si l’image était située à l’origine.</p>
<p>Dans les faits, ceci est équivalent à:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">Rect</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">image</span><span class="o">.</span><span class="n">get_size</span><span class="p">())</span>
</pre></div>
</div>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="sons">
<h3>Sons<a class="headerlink" href="#sons" title="Permalink to this headline">¶</a></h3>
<p>Pygame Zero peut charger des sons aux formats <code class="docutils literal notranslate"><span class="pre">.wav</span></code> et <code class="docutils literal notranslate"><span class="pre">.ogg</span></code>.
le format WAV est adapté aux petits effets sonores, tandis que OGG est
un format compressé qui convient mieux à la musique. Tu peux trouver
des fichiers .ogg et .wav libres de droits en ligne que tu peux utiliser
dans ton jeu.</p>
<p>Nous devons nous assurer que le répertoire <code class="docutils literal notranslate"><span class="pre">sounds</span></code> existe. si ton projet
contient les fichiers suivants:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">drum_kit</span><span class="o">.</span><span class="n">py</span>
<span class="n">sounds</span><span class="o">/</span><span class="n">drum</span><span class="o">.</span><span class="n">wav</span>
</pre></div>
</div>
<p>Alors <code class="docutils literal notranslate"><span class="pre">drum_kit.py</span></code> peux jouer le son de batterie dès que la le bouton
de la souris est pressé avec le code suivant:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_mouse_down</span><span class="p">():</span>
    <span class="n">sounds</span><span class="o">.</span><span class="n">drum</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
</pre></div>
</div>
<p>Chaque son chargé est un object Pygame <code class="docutils literal notranslate"><span class="pre">Sound</span></code> et a diverses méthodes
pour jouer et stopper le son, ainsi qu’obtenir sa longueur en secondes:</p>
<dl class="class">
<dt id="Sound">
<em class="property">class </em><code class="descname">Sound</code><a class="headerlink" href="#Sound" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="Sound.play">
<code class="descname">play</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Sound.play" title="Permalink to this definition">¶</a></dt>
<dd><p>Joue le son.</p>
</dd></dl>

<dl class="method">
<dt>
<code class="descname">play</code><span class="sig-paren">(</span><em>n</em><span class="sig-paren">)</span></dt>
<dd><p>Joue le son en boucle <code class="docutils literal notranslate"><span class="pre">n</span></code> fois.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>n</strong> – Le nombre de fois à répéter. Si tu donnes <code class="docutils literal notranslate"><span class="pre">-1</span></code> comme nombre de répétition,
le son va se répéter indéfiniment (ou jusqu’à ce que tu appelles <a class="reference internal" href="#Sound.stop" title="Sound.stop"><code class="xref py py-meth docutils literal notranslate"><span class="pre">Sound.stop()</span></code></a>)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Sound.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Sound.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Arrête de jouer le son.</p>
</dd></dl>

<dl class="method">
<dt id="Sound.get_length">
<code class="descname">get_length</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#Sound.get_length" title="Permalink to this definition">¶</a></dt>
<dd><p>Retourne la durée du son en secondes.</p>
</dd></dl>

</dd></dl>

<p>Tu devrait éviter d’utiliser l’objet <code class="docutils literal notranslate"><span class="pre">sounds</span></code> pour jouer de longs
morceaux de musique, parce que Pygame va complètement charger la
musique en mémoire avant de la jouer, ceci peut utiliser beaucoup
de mémoire, ainsi qu’introduire un délai au chargement de la musique.</p>
</div>
</div>
<div class="section" id="musique">
<span id="music"></span><h2>Musique<a class="headerlink" href="#musique" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1.</span></p>
</div>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p>L’API musique est expérimentale et peux causer des problèmes sur certaines plateformes.</p>
<p>En particulier:</p>
<ul class="simple">
<li>le format MP3 peut ne pas être disponible dans toutes les distributions Linux.</li>
<li>certains fichier OGG Vorbis semble bloquer Pygame en consommant 100% du CPU.</li>
</ul>
<p class="last">Dans le dernier cas, le problème peut être réglé en re-encodant
(si possible avec un encodeur différent).</p>
</div>
<p>L’objet prédéfini <code class="docutils literal notranslate"><span class="pre">music</span></code> fournit le moyen de jouer de la musique depuis
le répertoire <code class="docutils literal notranslate"><span class="pre">music/</span></code> (à côté de tes répertoires <code class="docutils literal notranslate"><span class="pre">images/</span></code> et <code class="docutils literal notranslate"><span class="pre">sounds/</span></code>,
si tu en as). Le système musical va charger la piste de musique par petits
morceaux pendant que la musique est jouée, évitant le problème de l’utilisation
de <code class="docutils literal notranslate"><span class="pre">sounds</span></code> pour jouer de long morceaux de musique.</p>
<p>Une autre différence avec les effets sonores est que une seule piste de musique
peut être jouée à la fois. Si tu joues une piste différente, la piste en cours
d’exécution et stoppée.</p>
<dl class="function">
<dt id="music.play">
<code class="descclassname">music.</code><code class="descname">play</code><span class="sig-paren">(</span><em>nom</em><span class="sig-paren">)</span><a class="headerlink" href="#music.play" title="Permalink to this definition">¶</a></dt>
<dd><p>Joue une piste de musique depuis le fichier donné. La piste va jouer indéfiniment.</p>
<p>Cela va remplacer la piste en cours et annuler toutes les pistes mises en attente avec <code class="docutils literal notranslate"><span class="pre">queue()</span></code>.</p>
<p>Tu n’as pas besoin d’inclure l’extension dans le nom de la piste, par exemple, pour jouer
le fichier <code class="docutils literal notranslate"><span class="pre">handel.mp3</span></code> en boucle:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">music</span><span class="o">.</span><span class="n">play</span><span class="p">(</span><span class="s1">&#39;handel&#39;</span><span class="p">)</span>
</pre></div>
</div>
</dd></dl>

<dl class="function">
<dt id="music.play_once">
<code class="descclassname">music.</code><code class="descname">play_once</code><span class="sig-paren">(</span><em>nom</em><span class="sig-paren">)</span><a class="headerlink" href="#music.play_once" title="Permalink to this definition">¶</a></dt>
<dd><p>Similaire à <code class="docutils literal notranslate"><span class="pre">play()</span></code>, mais joue la musique une fois seulement.</p>
</dd></dl>

<dl class="function">
<dt id="music.queue">
<code class="descclassname">music.</code><code class="descname">queue</code><span class="sig-paren">(</span><em>nom</em><span class="sig-paren">)</span><a class="headerlink" href="#music.queue" title="Permalink to this definition">¶</a></dt>
<dd><p>Similaire à <code class="docutils literal notranslate"><span class="pre">play_once()</span></code>, mais au lieu de stopper la musique en cours, la piste
va être mise sur liste d’attente pour être jouée une fois que la musique en cours sera finie
(ou après les autres musiques mises en attente précédemment).</p>
</dd></dl>

<dl class="function">
<dt id="music.stop">
<code class="descclassname">music.</code><code class="descname">stop</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Arrête la musique.</p>
</dd></dl>

<dl class="function">
<dt id="music.pause">
<code class="descclassname">music.</code><code class="descname">pause</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music.pause" title="Permalink to this definition">¶</a></dt>
<dd><p>Met la musique en pause temporairement. Elle peut être redémarrée en appelant
<code class="docutils literal notranslate"><span class="pre">unpause()</span></code>.</p>
</dd></dl>

<dl class="function">
<dt id="music.unpause">
<code class="descclassname">music.</code><code class="descname">unpause</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music.unpause" title="Permalink to this definition">¶</a></dt>
<dd><p>Redémarre la musique.</p>
</dd></dl>

<dl class="function">
<dt id="music.is_playing">
<code class="descclassname">music.</code><code class="descname">is_playing</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music.is_playing" title="Permalink to this definition">¶</a></dt>
<dd><p>Retourne vrai si la musique en en train d’être jouée (et n’est pas en pause), faux dans les autres cas.</p>
</dd></dl>

<dl class="function">
<dt id="music.fadeout">
<code class="descclassname">music.</code><code class="descname">fadeout</code><span class="sig-paren">(</span><em>durée</em><span class="sig-paren">)</span><a class="headerlink" href="#music.fadeout" title="Permalink to this definition">¶</a></dt>
<dd><p>Diminue progressivement le volume et stoppe la musique en cours d’exécution.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>duration</strong> – La durée en secondes pendant laquelle le volume va diminuer.
Par exemple, pour diminuer le son pendant une demi seconde, appelle
<code class="docutils literal notranslate"><span class="pre">music.fadeout(0.5)</span></code>.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="function">
<dt id="music.set_volume">
<code class="descclassname">music.</code><code class="descname">set_volume</code><span class="sig-paren">(</span><em>volume</em><span class="sig-paren">)</span><a class="headerlink" href="#music.set_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Défini le volume de la musique.</p>
<p>Cela prend un nombre décimal entre 0 (pas de son) and 1 (volume maximum).</p>
</dd></dl>

<dl class="function">
<dt id="music.get_volume">
<code class="descclassname">music.</code><code class="descname">get_volume</code><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#music.get_volume" title="Permalink to this definition">¶</a></dt>
<dd><p>Retourne le volume courant de la musique.</p>
</dd></dl>

<p>Si tu as démarré la lecture de la piste de musique en utilisant
<a class="reference internal" href="#music.play_once" title="music.play_once"><code class="xref py py-func docutils literal notranslate"><span class="pre">music.play_once()</span></code></a>, tu peux utiliser le
<a class="reference internal" href="hooks.html#on_music_end" title="on_music_end"><code class="xref py py-func docutils literal notranslate"><span class="pre">hook</span> <span class="pre">on_music_end()</span></code></a> pour faire quelque chose
quand le morceau se termine, par exemple, pour choisir aléatoirement le
prochain morceau.</p>
</div>
<div class="section" id="horloge">
<span id="clock"></span><h2>Horloge<a class="headerlink" href="#horloge" title="Permalink to this headline">¶</a></h2>
<p>Souvent pendant l’écriture d’un jeu, tu veux planifier des événements
pour qu’ils se produisent un moment plus tard. Par exemple, nous voudrions
qu’un super chef extraterrestre apparaisse après 60 secondes.
Ou peut-être qu’un bonus apparaisse toutes les 20 secondes.</p>
<p>Plus subtiles sont les situations où tu veux retarder une action pour
une durée plus courte. Par exemple, tu pourrais avoir une arme laser
qui prend 1 secondes à se recharger.</p>
<p>Nous pouvons utiliser l’objet <code class="docutils literal notranslate"><span class="pre">clock</span></code> pour programmer l’appel d’une
fonction à se faire dans le future.</p>
<p>Commençons par définir une fonction <code class="docutils literal notranslate"><span class="pre">fire_laser</span></code> que nous voulons
exécuter dans le future:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">fire_laser</span><span class="p">():</span>
    <span class="n">lasers</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">player</span><span class="o">.</span><span class="n">pos</span><span class="p">)</span>
</pre></div>
</div>
<p>Ensuite lorsque le bouton de tir est pressé, nous allons demander à l’objet
<code class="docutils literal notranslate"><span class="pre">clock</span></code> de l’appeler pour nous, après exactement 1 seconde:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">on_mouse_down</span><span class="p">():</span>
    <span class="n">clock</span><span class="o">.</span><span class="n">schedule</span><span class="p">(</span><span class="n">fire_laser</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">)</span>
</pre></div>
</div>
<p>Note que <code class="docutils literal notranslate"><span class="pre">fire_laser</span></code> est elle-même une fonction, sans parenthèse,
car elle n’est pas appelée ici ! L’horloge se chargera de le faire pour nous.</p>
<p>(C’est une bonne habitude d’écrire les durées en secondes avec une décimale,
comme <code class="docutils literal notranslate"><span class="pre">1.0</span></code>. C’est ainsi plus évident en se relisant que cela
représente une durée et pas un compte de quelques chose.)</p>
<p>L’objet <code class="docutils literal notranslate"><span class="pre">clock</span></code> fournit les méthodes utiles suivantes:</p>
<dl class="class">
<dt id="Clock">
<em class="property">class </em><code class="descname">Clock</code><a class="headerlink" href="#Clock" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="Clock.schedule">
<code class="descname">schedule</code><span class="sig-paren">(</span><em>callback</em>, <em>delai</em><span class="sig-paren">)</span><a class="headerlink" href="#Clock.schedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Programme <cite>callback</cite> à être appelée après le délai donné.</p>
<p>Un nombre répété d’appels à <code class="docutils literal notranslate"><span class="pre">schedule</span></code> va programmer l’appel
à la fonction autant de fois.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>callback</strong> – Une fonction qui ne prend aucun paramètre.</li>
<li><strong>delai</strong> – Le délai en secondes à attendre avant que la fonction ne soit appelée.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Clock.schedule_unique">
<code class="descname">schedule_unique</code><span class="sig-paren">(</span><em>callback</em>, <em>delai</em><span class="sig-paren">)</span><a class="headerlink" href="#Clock.schedule_unique" title="Permalink to this definition">¶</a></dt>
<dd><p>Programme <cite>callback</cite> à être appelée une fois après le délai donné.</p>
<p>Si <cite>callback</cite> avait déjà été programmée, cela l’annule et la reprogramme. Cela
s’applique aussi si elle était programmée plusieurs fois: après l’appel à
<code class="docutils literal notranslate"><span class="pre">schedule_unique</span></code>, la fonction sera programmée exactement une fois.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>callback</strong> – Une fonction qui ne prend aucun argument.</li>
<li><strong>delai</strong> – Le délai en secondes à attendre avant que la function ne soit appelée.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Clock.schedule_interval">
<code class="descname">schedule_interval</code><span class="sig-paren">(</span><em>callback</em>, <em>intervalle</em><span class="sig-paren">)</span><a class="headerlink" href="#Clock.schedule_interval" title="Permalink to this definition">¶</a></dt>
<dd><p>Programme <cite>callback</cite> pour être appelée de façon répétée.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>callback</strong> – Une fonction qui ne prend aucun argument.</li>
<li><strong>intervalle</strong> – L’intervalle en secondes entre chaque appel à <cite>callback</cite>.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="Clock.unschedule">
<code class="descname">unschedule</code><span class="sig-paren">(</span><em>callback</em><span class="sig-paren">)</span><a class="headerlink" href="#Clock.unschedule" title="Permalink to this definition">¶</a></dt>
<dd><p>Déprogramme l’appel à <cite>callback</cite> s’il a été précédemment programmé (soit parce qu’il
a été programmé avec <code class="docutils literal notranslate"><span class="pre">schedule()</span></code> et n’a pas encore été exécuté ou
parce qu’il a été programmé pour se répéter avec <code class="docutils literal notranslate"><span class="pre">schedule_interval()</span></code>.</p>
</dd></dl>

</dd></dl>

<p>Note que l’horloge de Pygame Zero ne tient que des références faibles
aux fonctions que tu lui donnes. Il ne déclenchera pas d’événements programmés
si les objets et méthodes ne sont pas référencés ailleurs. Cela empêche
l’horloge de garder des objets vivants et de continuer à déclencher des
événements inattendus après qu’ils sont normalement morts.</p>
<p>La contre-partie aux références faibles et que tu ne pourras pas programmer
des lambdas ou tout autre objet créé uniquement pour être programmé.
Tu devras garder une référence à l’objet.</p>
</div>
<div class="section" id="acteurs">
<span id="actor"></span><h2>Acteurs<a class="headerlink" href="#acteurs" title="Permalink to this headline">¶</a></h2>
<p>Une fois que tu as pleins d’images se déplacant dans le jeux, il est
intéressant d’avoir quelque chose qui regroupe à un seul endroit l’image
et où elle se trouve à l’écran. Nous allons appeler chaque image se déplaçant
à l’écran un acteur (<code class="docutils literal notranslate"><span class="pre">Actor</span></code>). Tu peux créer un acteur en fournissant
au moins le nom d’une image (depuis le répertoire d’images décrit au-dessus).
Pour dessiner un extraterrestre:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">&#39;alien&#39;</span><span class="p">,</span> <span class="p">(</span><span class="mi">50</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<p>tu peux déplacer l’acteur en changeant son attribut <code class="docutils literal notranslate"><span class="pre">pos</span></code> dans la fonction <code class="docutils literal notranslate"><span class="pre">update</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="k">if</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">left</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">-=</span> <span class="mi">1</span>
    <span class="k">elif</span> <span class="n">keyboard</span><span class="o">.</span><span class="n">right</span><span class="p">:</span>
        <span class="n">alien</span><span class="o">.</span><span class="n">x</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>et tu peux changer l’image utilisée pour déssiner l’acteur en changeant
son attribut <code class="docutils literal notranslate"><span class="pre">image</span></code> pour un nouveau nom d’image:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alien</span><span class="o">.</span><span class="n">image</span> <span class="o">=</span> <span class="s1">&#39;alien_hurt&#39;</span>
</pre></div>
</div>
<p>Les acteurs ont tous les mêmes attributs et méthodes que <a class="reference internal" href="#rect"><span class="std std-ref">Rect</span></a>,
en incluant les méthodes telles que <a class="reference external" href="https://www.pygame.org/docs/ref/rect.html#pygame.Rect.colliderect">.colliderect()</a> qui peut être utilisée
pour tester si deux acteurs se percutent.</p>
<div class="section" id="positionner-les-acteurs">
<h3>Positionner les acteurs<a class="headerlink" href="#positionner-les-acteurs" title="Permalink to this headline">¶</a></h3>
<p>Si tu donnes une nouvelle valeur à un des attributs de position, alors l’acteur
va se déplacer. Par exemple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alien</span><span class="o">.</span><span class="n">right</span> <span class="o">=</span> <span class="n">WIDTH</span>
</pre></div>
</div>
<p>va positionner l’extraterrestre de façon à ce que sa droite est la
valeur <code class="docutils literal notranslate"><span class="pre">WIDTH</span></code>.</p>
<p>De façon similaire, tu peux aussi donner la position initiale de l’acteur
dans le constructeur, en donnant l’un des mots-clés suivant en argument:
<code class="docutils literal notranslate"><span class="pre">pos</span></code>, <code class="docutils literal notranslate"><span class="pre">topleft</span></code>, <code class="docutils literal notranslate"><span class="pre">topright</span></code>, <code class="docutils literal notranslate"><span class="pre">bottomleft</span></code>, <code class="docutils literal notranslate"><span class="pre">bottomright</span></code>,
<code class="docutils literal notranslate"><span class="pre">midtop</span></code>, <code class="docutils literal notranslate"><span class="pre">midleft</span></code>, <code class="docutils literal notranslate"><span class="pre">midright</span></code>, <code class="docutils literal notranslate"><span class="pre">midbottom</span></code> ou <code class="docutils literal notranslate"><span class="pre">center</span></code>:</p>
<img alt="_images/anchor_points.png" src="_images/anchor_points.png" />
<p>Cela peut être fait pendant la création ou en affectant une paire
de coordonnées (x, y). Par exemple:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WIDTH</span> <span class="o">=</span> <span class="mi">200</span>
<span class="n">HEIGHT</span> <span class="o">=</span> <span class="mi">200</span>

<span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">&#39;alien&#39;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span><span class="mi">100</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">draw</span><span class="p">():</span>
    <span class="n">screen</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
    <span class="n">alien</span><span class="o">.</span><span class="n">draw</span><span class="p">()</span>
</pre></div>
</div>
<img alt="_images/alien_center.png" src="_images/alien_center.png" />
<p>En changeant <code class="docutils literal notranslate"><span class="pre">center=(100,</span> <span class="pre">100)</span></code> en <code class="docutils literal notranslate"><span class="pre">midbottom=(100,</span> <span class="pre">200)</span></code> cela te donnes:</p>
<img alt="_images/alien_midbottom.png" src="_images/alien_midbottom.png" />
<p>Si tu ne spécifies pas de position initiale, l’acteur sera positionné par
défaut dans le coin en haut à gauche (équivalent à <code class="docutils literal notranslate"><span class="pre">topleft=(0,</span> <span class="pre">0)</span></code>).</p>
</div>
<div class="section" id="point-d-ancrage">
<span id="anchor"></span><h3>Point d’ancrage<a class="headerlink" href="#point-d-ancrage" title="Permalink to this headline">¶</a></h3>
<p>Les acteurs ont une “position d’ancrage”, qui est une façon pratique de
positionner les acteurs dans la scène. Par défaut, le point d’ancrage est
le centre, si bien que l’attribut <code class="docutils literal notranslate"><span class="pre">.pos</span></code> représente le centre de l’acteur
(de même pour les coordonnées <code class="docutils literal notranslate"><span class="pre">x</span></code> et <code class="docutils literal notranslate"><span class="pre">y</span></code>). Il est commun de définir
le point d’ancrage à une autre partie du sprite (peut être les pieds afin
de pouvoir facilement faire tenir l’acteur sur quelque chose):</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">alien</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">&#39;alien&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;center&#39;</span><span class="p">,</span> <span class="s1">&#39;bottom&#39;</span><span class="p">))</span>
<span class="n">spaceship</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">&#39;spaceship&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">50</span><span class="p">))</span>
</pre></div>
</div>
<p><code class="docutils literal notranslate"><span class="pre">anchor</span></code> est défini comme le tuple <code class="docutils literal notranslate"><span class="pre">(xanchor,</span> <span class="pre">yanchor)</span></code>, où les valeurs
peuvent être des décimaux ou les chaînes <code class="docutils literal notranslate"><span class="pre">left</span></code>, <code class="docutils literal notranslate"><span class="pre">center</span></code>/<code class="docutils literal notranslate"><span class="pre">middle</span></code>,
<code class="docutils literal notranslate"><span class="pre">right</span></code>, <code class="docutils literal notranslate"><span class="pre">top</span></code> ou <code class="docutils literal notranslate"><span class="pre">bottom</span></code>.</p>
</div>
<div class="section" id="rotation">
<span id="id4"></span><h3>Rotation<a class="headerlink" href="#rotation" title="Permalink to this headline">¶</a></h3>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.2.</span></p>
</div>
<p>L’attribut <code class="docutils literal notranslate"><span class="pre">.angle</span></code> de l’acteur controle la rotation du sprite, en degrés,
dans le sens trigonométrique (sens inverse des aiguilles d’une montre).</p>
<p>Le cente de rotation est le <a class="reference internal" href="#anchor"><span class="std std-ref">point d’ancrage</span></a> de l’acteur.</p>
<p>Note que cela va changer la hauteur (<code class="docutils literal notranslate"><span class="pre">width</span></code>) et la largeur (<code class="docutils literal notranslate"><span class="pre">height</span></code>)
de l’acteur.</p>
<p>Par exemple, pour faire tourner lentement un astéroïde dans l’espace:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">asteroid</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">&#39;asteroid&#39;</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="p">(</span><span class="mi">300</span><span class="p">,</span> <span class="mi">300</span><span class="p">))</span>

<span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">asteroid</span><span class="o">.</span><span class="n">angle</span> <span class="o">+=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Pour le faire tourner dans l’aute sens, nous écririons <code class="docutils literal notranslate"><span class="pre">update()</span></code> ainsi:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">update</span><span class="p">():</span>
    <span class="n">asteroid</span><span class="o">.</span><span class="n">angle</span> <span class="o">-=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>Un autre exemple: nous pourrions faire qu’un acteur <code class="docutils literal notranslate"><span class="pre">ship</span></code> soit toujours
tourné vers la souris. Comme <a class="reference internal" href="#Actor.angle_to" title="Actor.angle_to"><code class="xref py py-meth docutils literal notranslate"><span class="pre">angle_to()</span></code></a> retourne 0 pour
la droite, l’acteur <cite>ship</cite> devrait se tourner vers la droite:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ship</span> <span class="o">=</span> <span class="n">Actor</span><span class="p">(</span><span class="s1">&#39;ship&#39;</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_mouse_move</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
    <span class="n">ship</span><span class="o">.</span><span class="n">angle</span> <span class="o">=</span> <span class="n">ship</span><span class="o">.</span><span class="n">angle_to</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
</pre></div>
</div>
<img alt="Diagram showing how to set up sprites for rotation with angle_to()" src="_images/rotation.svg" /><p>Souviens toi que les angles bouclent:  0 degrés == 360 degrés == 720 degrés.
De même -180 degrés == 180 degrés.</p>
</div>
<div class="section" id="distance-et-angle">
<h3>Distance et angle<a class="headerlink" href="#distance-et-angle" title="Permalink to this headline">¶</a></h3>
<p>Les acteurs ont des méthodes très pratiques pour calculer leur distance
ou angle avec d’autres acteurs ou des paires de coordonnées <code class="docutils literal notranslate"><span class="pre">(x,</span> <span class="pre">y)</span></code>.</p>
<dl class="method">
<dt id="Actor.distance_to">
<code class="descclassname">Actor.</code><code class="descname">distance_to</code><span class="sig-paren">(</span><em>cible</em><span class="sig-paren">)</span><a class="headerlink" href="#Actor.distance_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Retourne la distance depuis la position de l’acteur à la <cite>cible</cite> en pixels.</p>
</dd></dl>

<dl class="method">
<dt id="Actor.angle_to">
<code class="descclassname">Actor.</code><code class="descname">angle_to</code><span class="sig-paren">(</span><em>cible</em><span class="sig-paren">)</span><a class="headerlink" href="#Actor.angle_to" title="Permalink to this definition">¶</a></dt>
<dd><p>Retourne l’angle depuis la position de l’acteur à la <cite>cible</cite> en degrés.</p>
<p>Cela va retouner un nombre entre -180 et 180 degrés. La droite est 0 degrés
et les angles augmentent en allant dans le sens horaire inverse (sens trigonométrique).</p>
<p>Donc:</p>
<ul class="simple">
<li>La gauche est 180 degrés.</li>
<li>Le haut est 90 degrés.</li>
<li>Le bas est -90 degrés.</li>
</ul>
</dd></dl>

</div>
</div>
<div class="section" id="le-clavier">
<h2>Le clavier<a class="headerlink" href="#le-clavier" title="Permalink to this headline">¶</a></h2>
<p>Tu as sans doute remarqué que nous avons utilisé l’objet <code class="docutils literal notranslate"><span class="pre">keyboard</span></code>
dans le code au-dessus. Si tu veux savoir quelles touches du clavier sont
pressées, tu peux lire les attributs de l’objet pré-défini <code class="docutils literal notranslate"><span class="pre">keyboard</span></code>.
Si, par exemple, la flêche gauche est maintenue enfoncée, alors
<code class="docutils literal notranslate"><span class="pre">keyboard.left</span></code> sera vrai (<code class="docutils literal notranslate"><span class="pre">True</span></code>), sinon il sera faux (<code class="docutils literal notranslate"><span class="pre">False</span></code>).</p>
<p>Il y a un attribut pour chaque touche, quelques exemples:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">keyboard</span><span class="o">.</span><span class="n">a</span>  <span class="c1"># La touche &#39;A&#39;</span>
<span class="n">keyboard</span><span class="o">.</span><span class="n">left</span>  <span class="c1"># La touche de navigation gauche</span>
<span class="n">keyboard</span><span class="o">.</span><span class="n">rshift</span>  <span class="c1"># La touche majuscule droite</span>
<span class="n">keyboard</span><span class="o">.</span><span class="n">kp0</span>  <span class="c1"># La touche &#39;0&#39; sur le pavé numérique</span>
<span class="n">keyboard</span><span class="o">.</span><span class="n">k_0</span>  <span class="c1"># La touche prinicipale &#39;0&#39;</span>
</pre></div>
</div>
<p>L’ensemble des constantes de touche est donné dans la documentation
<a class="reference external" href="hooks.html#buttons-and-keys">Buttons and Keys</a>, mais les attributs sont en minuscule, parce que ceux
sont des variables et non des constantes.</p>
<div class="deprecated">
<p><span class="versionmodified">Deprecated since version 1.1: </span>Le noms en majuscule ou préfixés (ie. <code class="docutils literal notranslate"><span class="pre">keyboard.LEFT</span></code> ou
<code class="docutils literal notranslate"><span class="pre">keyboard.K_a</span></code>) sont maintenant dépréconisés: utilise plutôt
des noms d’attributs en minuscule.</p>
</div>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.1: </span>Tu peux aussi interroger l’état des touches en utilisant les constantes des touches elles-même:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">keyboard</span><span class="p">[</span><span class="n">keys</span><span class="o">.</span><span class="n">A</span><span class="p">]</span>  <span class="c1"># Vrai si la touche &#39;A&#39; est pressée</span>
<span class="n">keyboard</span><span class="p">[</span><span class="n">keys</span><span class="o">.</span><span class="n">SPACE</span><span class="p">]</span>  <span class="c1"># Vrai si la barre d&#39;espace est pressée</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="animations">
<h2>Animations<a class="headerlink" href="#animations" title="Permalink to this headline">¶</a></h2>
<p>Tu peux animer pratiquement tous dans pygame en utilisant la fonction
pré-définie <code class="docutils literal notranslate"><span class="pre">animate()</span></code>. Par exemple, pour bouger un <a class="reference internal" href="#actor"><span class="std std-ref">acteur</span></a>
depuis sa position courante à l’écran vers la position <code class="docutils literal notranslate"><span class="pre">(100,</span> <span class="pre">100)</span></code>:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">animate</span><span class="p">(</span><span class="n">alien</span><span class="p">,</span> <span class="n">pos</span><span class="o">=</span><span class="p">(</span><span class="mi">100</span><span class="p">,</span> <span class="mi">100</span><span class="p">))</span>
</pre></div>
</div>
<dl class="function">
<dt id="animate">
<code class="descname">animate</code><span class="sig-paren">(</span><em>objet</em>, <em>tween='linear'</em>, <em>duration=1</em>, <em>on_finished=None</em>, <em>**cibles</em><span class="sig-paren">)</span><a class="headerlink" href="#animate" title="Permalink to this definition">¶</a></dt>
<dd><p>Anime les attributs de <cite>objet</cite> depuis leurs valeurs courantes vers celles spécifiées
par mots-clés dans <cite>cibles</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first last simple">
<li><strong>tween</strong> – Le type de <em>tweening</em> à utiliser.</li>
<li><strong>duration</strong> – La durée de l’animation en secondes.</li>
<li><strong>on_finished</strong> – Fonction appelée à la fin de l’animation.</li>
<li><strong>targets</strong> – Le valeurs cibles des attributs à animer.</li>
</ul>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<p>L’argument <cite>tween</cite> peut être l’un des suivants:</p>
<table border="1" class="docutils">
<colgroup>
<col width="27%" />
<col width="73%" />
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>‘linear’</td>
<td>Anime avec une vitesse constante du début à la fin</td>
</tr>
<tr class="row-even"><td>‘accelerate’</td>
<td>Démarre doucement et accélère à la fin</td>
</tr>
<tr class="row-odd"><td>‘decelerate’</td>
<td>Démarre rapidement et ralentit à la fin</td>
</tr>
<tr class="row-even"><td>‘accel_decel’</td>
<td>Accélère jusqu’à la moitié puis ralentit à la fin</td>
</tr>
<tr class="row-odd"><td>‘end_elastic’</td>
<td>Oscille légèrement à la fin</td>
</tr>
<tr class="row-even"><td>‘start_elastic’</td>
<td>Oscille légèrement au démarrage</td>
</tr>
<tr class="row-odd"><td>‘both_elastic’</td>
<td>Oscille aux deux extrémités</td>
</tr>
<tr class="row-even"><td>‘bounce_end’</td>
<td>Accélère jusqu’à la fin et rebondit</td>
</tr>
<tr class="row-odd"><td>‘bounce_start’</td>
<td>Rebondit au démarrage</td>
</tr>
<tr class="row-even"><td>‘bounce_start_end’</td>
<td>Rebondit aux deux extrémités</td>
</tr>
</tbody>
</table>
<p>La fonction <code class="docutils literal notranslate"><span class="pre">animate()</span></code> retourne une instance de la classe <code class="docutils literal notranslate"><span class="pre">Animation</span></code>:</p>
<dl class="class">
<dt id="Animation">
<em class="property">class </em><code class="descname">Animation</code><a class="headerlink" href="#Animation" title="Permalink to this definition">¶</a></dt>
<dd><dl class="method">
<dt id="Animation.stop">
<code class="descname">stop</code><span class="sig-paren">(</span><em>complete=False</em><span class="sig-paren">)</span><a class="headerlink" href="#Animation.stop" title="Permalink to this definition">¶</a></dt>
<dd><p>Arrête l’animation et la complète optionnellement jusqu’à sa valeur finale.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>complete</strong> – Donne à l’attribut animé sa valeur cible.</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="Animation.running">
<code class="descname">running</code><a class="headerlink" href="#Animation.running" title="Permalink to this definition">¶</a></dt>
<dd><p>Vaut vrai si l’animation est en cours d’exécution. Il vaudra faux si la
durée de l’animation est dépassée ou si la méthode <code class="docutils literal notranslate"><span class="pre">stop()</span></code> a été appelée avant.</p>
</dd></dl>

<dl class="attribute">
<dt id="Animation.on_finished">
<code class="descname">on_finished</code><a class="headerlink" href="#Animation.on_finished" title="Permalink to this definition">¶</a></dt>
<dd><p>Tu peux définir cet attribut avec une fonction qui sera appelée
à la fin normale de l’animation. Le paramètre <code class="docutils literal notranslate"><span class="pre">on_finished</span></code> de la
fonction <code class="docutils literal notranslate"><span class="pre">animate()</span></code> défini aussi cet attribut. Elle ne sera pas appelée si
<code class="docutils literal notranslate"><span class="pre">stop()</span></code> est appelée. Cette fonction ne prend pas de paramètres.</p>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="generateur-de-sons">
<h2>Générateur de sons<a class="headerlink" href="#generateur-de-sons" title="Permalink to this headline">¶</a></h2>
<div class="versionadded">
<p><span class="versionmodified">New in version 1.2.</span></p>
</div>
<p>Pygame Zero peut jouer des sons en utilisant un synthétiseur intégré.</p>
<dl class="function">
<dt id="tone.play">
<code class="descclassname">tone.</code><code class="descname">play</code><span class="sig-paren">(</span><em>hauteur</em>, <em>duration</em><span class="sig-paren">)</span><a class="headerlink" href="#tone.play" title="Permalink to this definition">¶</a></dt>
<dd><p>Joue une note à la hauteur donnée pour la durée donnée.</p>
<p>La durée est en secondes.</p>
<p>La <cite>hauteur</cite> peut être donnée comme un nombre, dans ce cas cela
sera la fréquence de la note en hertz.</p>
<p>Sinon, la hauteur peut être définie comme une chaîne représentant
le nom d’une note et un octave. Par exemple:</p>
<ul class="simple">
<li><code class="docutils literal notranslate"><span class="pre">'E4'</span></code> sera un mi au 4ème octave.</li>
<li><code class="docutils literal notranslate"><span class="pre">'A#5'</span></code> sera un la dièse au 5ème octave.</li>
<li><code class="docutils literal notranslate"><span class="pre">'Bb3'</span></code> sera un si bémol au 3ème octave.</li>
</ul>
</dd></dl>

<p>Créer des notes, en particulier de longues notes, prend du temps (jusqu’à
plusieurs millisecondes). Tu peux créer des notes à l’avance afin de ne pas
ralentir ton jeu pendant qu’il s’exécute:</p>
<dl class="function">
<dt id="tone.create">
<code class="descclassname">tone.</code><code class="descname">create</code><span class="sig-paren">(</span><em>hauteur</em>, <em>duration</em><span class="sig-paren">)</span><a class="headerlink" href="#tone.create" title="Permalink to this definition">¶</a></dt>
<dd><p>Crée et renvoie un objet <cite>Sound</cite>.</p>
<p>Les paramètres sont les mêmes que ceux de <cite>play()</cite>, décrit au-dessus.</p>
</dd></dl>

<p>Ceci peut être utilisé dans un programme Pygame Zero comme ceci:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">beep</span> <span class="o">=</span> <span class="n">tone</span><span class="o">.</span><span class="n">create</span><span class="p">(</span><span class="s1">&#39;A3&#39;</span><span class="p">,</span> <span class="mf">0.5</span><span class="p">)</span>

<span class="k">def</span> <span class="nf">on_mouse_down</span><span class="p">():</span>
    <span class="n">beep</span><span class="o">.</span><span class="n">play</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="index.html">
              <img class="logo" src="_static/logo.svg" alt="Logo"/>
            </a></p>
<h1 class="logo"><a href="index.html">Pygame Zero</a></h1>








<h3>Navigation</h3>
<ul>
<li class="toctree-l1"><a class="reference internal" href="introduction.html">Introduction à Pygame Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="from-scratch.html">Migrer depuis Scratch</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="hooks.html">Les <em>hooks</em> d’évènements</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Objets pré-définis</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#screen">Screen</a><ul>
<li class="toctree-l3"><a class="reference internal" href="ptext.html">Text Formatting</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#rect">Rect</a></li>
<li class="toctree-l2"><a class="reference internal" href="#chargement-de-resources">Chargement de resources</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#images">Images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#surfaces-d-images">Surfaces d’images</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sons">Sons</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#musique">Musique</a></li>
<li class="toctree-l2"><a class="reference internal" href="#horloge">Horloge</a></li>
<li class="toctree-l2"><a class="reference internal" href="#acteurs">Acteurs</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#positionner-les-acteurs">Positionner les acteurs</a></li>
<li class="toctree-l3"><a class="reference internal" href="#point-d-ancrage">Point d’ancrage</a></li>
<li class="toctree-l3"><a class="reference internal" href="#rotation">Rotation</a></li>
<li class="toctree-l3"><a class="reference internal" href="#distance-et-angle">Distance et angle</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#le-clavier">Le clavier</a></li>
<li class="toctree-l2"><a class="reference internal" href="#animations">Animations</a></li>
<li class="toctree-l2"><a class="reference internal" href="#generateur-de-sons">Générateur de sons</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="installation.html">Installer Pygame Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="repl.html">Using the REPL (Read-Evaluate-Print Loop)</a></li>
<li class="toctree-l1"><a class="reference internal" href="ide-mode.html">Running Pygame Zero in IDLE and other IDEs</a></li>
<li class="toctree-l1"><a class="reference internal" href="other-libs.html">Other libraries like Pygame Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="changelog.html">Changelog</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="stickers.html">Laptop Stickers</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="roadmap.html">Roadmap</a></li>
<li class="toctree-l1"><a class="reference internal" href="principles.html">Les principes de Pygame Zero</a></li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to Pygame Zero</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="hooks.html" title="previous chapter">Les <em>hooks</em> d’évènements</a></li>
      <li>Next: <a href="ptext.html" title="next chapter">Text Formatting</a></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2015, Daniel Pope.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 1.8.1</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
    </div>

    

    
  </body>
</html>